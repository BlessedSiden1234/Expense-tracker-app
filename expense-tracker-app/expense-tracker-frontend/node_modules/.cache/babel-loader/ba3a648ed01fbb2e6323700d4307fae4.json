{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\src\\\\components\\\\Home\\\\ExpenseTable.js\";\nimport React, { Component } from \"react\";\nimport Expense from \"./Expense\";\nimport \"../../assets/css/table.css\";\nimport Loader from \"../Common/Loader\";\nimport * as utils from \"../Util\";\n\nvar ExpenseTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ExpenseTable, _Component);\n\n  function ExpenseTable(props) {\n    var _this;\n\n    _classCallCheck(this, ExpenseTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ExpenseTable).call(this, props));\n    var expenses = JSON.parse(JSON.stringify(_this.props.expenses));\n    _this.state = {\n      expenses: expenses\n    };\n    _this.handelDateChange = _this.handelDateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ExpenseTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.expenses && this.props.authUser) {\n        // Normalize expenses first\n        var normalizedExpenses = utils.normalizeExpenses(this.props.expenses);\n        var eachExpense = utils.eachExpense(normalizedExpenses);\n        var thisUsersExpenses = utils.currentUsersExpenses(eachExpense, this.props.authUser);\n        this.setState({\n          expenses: thisUsersExpenses\n        });\n      }\n    }\n  }, {\n    key: \"handelDateChange\",\n    value: function handelDateChange(e) {\n      var normalizedExpenses = utils.normalizeExpenses(this.props.expenses); // normalize here too\n\n      var eachExpense = utils.eachExpense(normalizedExpenses);\n      var thisUsersExpenses = utils.currentUsersExpenses(eachExpense, this.props.authUser);\n      var searchResults = thisUsersExpenses.filter(function (elem) {\n        var comments = elem.value && elem.value.comments || elem.comments || \"\";\n        return comments.toLowerCase().includes(e.target.value.toLowerCase());\n      });\n      this.setState({\n        expenses: searchResults.length ? searchResults : normalizedExpenses\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var nightMode = {\n        background: this.props.settings ? this.props.settings.mode === \"night\" ? \"#212529\" : \"auto\" : \"auto\"\n      };\n      var expenses = this.state.expenses;\n      var currentUser = this.props.authUser;\n\n      if (!expenses || !currentUser) {\n        return React.createElement(\"table\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        })))));\n      }\n\n      if (expenses && currentUser) {\n        var inputArea = {\n          color: \"yellow\",\n          background: \"#2C3034\",\n          border: \"none\",\n          marginLeft: \"15px\",\n          width: \"50%\",\n          float: \"right\"\n        };\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(\"table\", {\n          className: \"table table-striped table-bordered table-dark rwd-table expense-table mobileNoPadding\",\n          style: nightMode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, \"#\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \"Date\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, \"Expense\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"Category\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, \"Comments\", \" \", React.createElement(\"input\", {\n          type: \"text\",\n          placeholder: \"  search\",\n          style: inputArea,\n          onChange: this.handelDateChange.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        })), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, \"Edit\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, \"Delete\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(Expense, {\n          expenses: this.state.expenses,\n          authUser: this.props.authUser,\n          key: Math.random() * 100,\n          settings: this.props.settings,\n          convertedCurrency: this.props.convertedCurrency,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }))));\n      }\n    }\n  }]);\n\n  return ExpenseTable;\n}(Component);\n\nexport default ExpenseTable;","map":{"version":3,"sources":["C:\\Users\\USER\\Projects\\expense-tracker-app\\expense-tracker-frontend\\src\\components\\Home\\ExpenseTable.js"],"names":["React","Component","Expense","Loader","utils","ExpenseTable","props","expenses","JSON","parse","stringify","state","handelDateChange","bind","authUser","normalizedExpenses","normalizeExpenses","eachExpense","thisUsersExpenses","currentUsersExpenses","setState","e","searchResults","filter","elem","comments","value","toLowerCase","includes","target","length","nightMode","background","settings","mode","currentUser","inputArea","color","border","marginLeft","width","float","Math","random","convertedCurrency"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Expense from \"./Expense\";\r\n\r\nimport \"../../assets/css/table.css\";\r\nimport Loader from \"../Common/Loader\";\r\nimport * as utils from \"../Util\";\r\n\r\nclass ExpenseTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const expenses = JSON.parse(JSON.stringify(this.props.expenses));\r\n\r\n        this.state = {\r\n            expenses\r\n        };\r\n\r\n        this.handelDateChange = this.handelDateChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n    if (this.props.expenses && this.props.authUser) {\r\n        // Normalize expenses first\r\n        const normalizedExpenses = utils.normalizeExpenses(this.props.expenses);\r\n\r\n        const eachExpense = utils.eachExpense(normalizedExpenses);\r\n        const thisUsersExpenses = utils.currentUsersExpenses(eachExpense, this.props.authUser);\r\n\r\n        this.setState({\r\n            expenses: thisUsersExpenses\r\n        });\r\n    }\r\n}\r\n\r\nhandelDateChange(e) {\r\n    const normalizedExpenses = utils.normalizeExpenses(this.props.expenses); // normalize here too\r\n    const eachExpense = utils.eachExpense(normalizedExpenses);\r\n    const thisUsersExpenses = utils.currentUsersExpenses(eachExpense, this.props.authUser);\r\n\r\n    const searchResults = thisUsersExpenses.filter(elem => {\r\n        const comments = (elem.value && elem.value.comments) || elem.comments || \"\";\r\n        return comments.toLowerCase().includes(e.target.value.toLowerCase());\r\n    });\r\n\r\n    this.setState({\r\n        expenses: searchResults.length ? searchResults : normalizedExpenses\r\n    });\r\n}\r\n\r\n    render() {\r\n        const nightMode = {\r\n            background: this.props.settings ? (this.props.settings.mode === \"night\" ? \"#212529\" : \"auto\") : \"auto\"\r\n        };\r\n        const expenses = this.state.expenses;\r\n        const currentUser = this.props.authUser;\r\n\r\n        if (!expenses || !currentUser) {\r\n            return (\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>\r\n                                <Loader />\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            );\r\n        }\r\n\r\n        if (expenses && currentUser) {\r\n            const inputArea = {\r\n                color: \"yellow\",\r\n                background: \"#2C3034\",\r\n                border: \"none\",\r\n                marginLeft: \"15px\",\r\n                width: \"50%\",\r\n                float: \"right\"\r\n            };\r\n            return (\r\n                <div>\r\n                    <table\r\n                        className=\"table table-striped table-bordered table-dark rwd-table expense-table mobileNoPadding\"\r\n                        style={nightMode}\r\n                    >\r\n                        <thead>\r\n                            <tr>\r\n                                <th scope=\"col\">#</th>\r\n                                <th scope=\"col\">Date</th>\r\n                                <th scope=\"col\">Expense</th>\r\n                                <th scope=\"col\">Category</th>\r\n                                <th scope=\"col\">\r\n                                    Comments{\" \"}\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        placeholder=\"  search\"\r\n                                        style={inputArea}\r\n                                        onChange={this.handelDateChange.bind(this)}\r\n                                    />\r\n                                </th>\r\n                                <th scope=\"col\">Edit</th>\r\n                                <th scope=\"col\">Delete</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <Expense\r\n                                expenses={this.state.expenses}\r\n                                authUser={this.props.authUser}\r\n                                key={Math.random() * 100}\r\n                                settings={this.props.settings}\r\n                                convertedCurrency={this.props.convertedCurrency}\r\n                            />\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default ExpenseTable;\r\n"]},"metadata":{},"sourceType":"module"}
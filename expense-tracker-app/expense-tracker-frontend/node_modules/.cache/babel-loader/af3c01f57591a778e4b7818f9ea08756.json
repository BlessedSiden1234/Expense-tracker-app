{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\src\\\\components\\\\MonthView\\\\Expense.js\";\nimport React from \"react\";\nimport ExpenseRow from \"../Common/ExpenseRow\";\nimport Loader from \"../Common/Loader\";\nimport * as utils from \"../Util\";\n\nvar Expense = function Expense(_ref) {\n  var expenses = _ref.expenses,\n      authUser = _ref.authUser,\n      month = _ref.month,\n      year = _ref.year,\n      settings = _ref.settings,\n      convertedCurrency = _ref.convertedCurrency;\n  console.log(\"üî• Expense props:\", {\n    expenses: expenses,\n    authUser: authUser,\n    month: month,\n    year: year\n  }); // Guard against null/undefined\n\n  if (!expenses || !authUser || month == null || year == null) {\n    console.warn(\"‚è≥ Waiting for required data...\");\n    return React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colSpan: \"7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    }, React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15\n      },\n      __self: this\n    })));\n  }\n\n  var selectedMonth = Number(month);\n  var selectedYear = Number(year); // Normalize expenses\n\n  var normalizedExpenses = utils.eachExpense(expenses);\n  console.log(\"üßæ Normalized expenses:\", normalizedExpenses); // Add logs for each expense\n\n  normalizedExpenses.forEach(function (item, index) {\n    console.log(\"\\uD83D\\uDCCC Expense[\".concat(index, \"] key=\").concat(item.key, \", value keys=\").concat(Object.keys(item.value).join(\", \"), \", full value=\"), item.value);\n  }); // Filter by month/year only (ignore userId for now)\n\n  var filteredExpenses = normalizedExpenses.filter(function (item) {\n    var dateStr = item.value.createdAt || item.value.date;\n    var expenseDate = new Date(dateStr);\n    var matchMonthYear = expenseDate.getMonth() === selectedMonth && expenseDate.getFullYear() === selectedYear;\n\n    if (!matchMonthYear) {\n      console.log(\"\\u274C Skipping expense \".concat(item.key, \": date mismatch (\").concat(expenseDate, \")\"));\n    } else {\n      console.log(\"\\u2705 Including expense \".concat(item.key, \": date matches (\").concat(expenseDate, \")\"));\n    }\n\n    return matchMonthYear;\n  });\n  console.log(\"üìÖ Expenses after month/year filter:\", filteredExpenses);\n\n  if (!filteredExpenses.length) {\n    console.warn(\"‚ö†Ô∏è No expenses found for this month/year\");\n    return React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colSpan: \"7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"alert alert-info\",\n      role: \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"You haven't spent a penny this month\")));\n  }\n\n  return filteredExpenses.map(function (expense, index) {\n    console.log(\"\\u27A1\\uFE0F Rendering ExpenseRow \".concat(index), expense);\n    return React.createElement(ExpenseRow, {\n      key: expense.key,\n      expense: expense,\n      user: authUser // pass current user for display\n      ,\n      num: index,\n      expenseId: expense.key,\n      settings: settings,\n      convertedCurrency: convertedCurrency,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    });\n  });\n};\n\nexport default Expense;","map":{"version":3,"sources":["C:\\Users\\USER\\Projects\\expense-tracker-app\\expense-tracker-frontend\\src\\components\\MonthView\\Expense.js"],"names":["React","ExpenseRow","Loader","utils","Expense","expenses","authUser","month","year","settings","convertedCurrency","console","log","warn","selectedMonth","Number","selectedYear","normalizedExpenses","eachExpense","forEach","item","index","key","Object","keys","value","join","filteredExpenses","filter","dateStr","createdAt","date","expenseDate","Date","matchMonthYear","getMonth","getFullYear","length","map","expense"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport ExpenseRow from \"../Common/ExpenseRow\";\r\nimport Loader from \"../Common/Loader\";\r\nimport * as utils from \"../Util\";\r\n\r\nconst Expense = ({ expenses, authUser, month, year, settings, convertedCurrency }) => {\r\n  console.log(\"üî• Expense props:\", { expenses, authUser, month, year });\r\n\r\n  // Guard against null/undefined\r\n  if (!expenses || !authUser || month == null || year == null) {\r\n    console.warn(\"‚è≥ Waiting for required data...\");\r\n    return (\r\n      <tr>\r\n        <td colSpan=\"7\">\r\n          <Loader />\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n\r\n  const selectedMonth = Number(month);\r\n  const selectedYear = Number(year);\r\n\r\n  // Normalize expenses\r\n  const normalizedExpenses = utils.eachExpense(expenses);\r\n  console.log(\"üßæ Normalized expenses:\", normalizedExpenses);\r\n\r\n  // Add logs for each expense\r\n  normalizedExpenses.forEach((item, index) => {\r\n    console.log(\r\n      `üìå Expense[${index}] key=${item.key}, value keys=${Object.keys(item.value).join(\r\n        \", \"\r\n      )}, full value=`,\r\n      item.value\r\n    );\r\n  });\r\n\r\n  // Filter by month/year only (ignore userId for now)\r\n  const filteredExpenses = normalizedExpenses.filter((item) => {\r\n    const dateStr = item.value.createdAt || item.value.date;\r\n    const expenseDate = new Date(dateStr);\r\n    const matchMonthYear =\r\n      expenseDate.getMonth() === selectedMonth &&\r\n      expenseDate.getFullYear() === selectedYear;\r\n\r\n    if (!matchMonthYear) {\r\n      console.log(`‚ùå Skipping expense ${item.key}: date mismatch (${expenseDate})`);\r\n    } else {\r\n      console.log(`‚úÖ Including expense ${item.key}: date matches (${expenseDate})`);\r\n    }\r\n\r\n    return matchMonthYear;\r\n  });\r\n\r\n  console.log(\"üìÖ Expenses after month/year filter:\", filteredExpenses);\r\n\r\n  if (!filteredExpenses.length) {\r\n    console.warn(\"‚ö†Ô∏è No expenses found for this month/year\");\r\n    return (\r\n      <tr>\r\n        <td colSpan=\"7\">\r\n          <div className=\"alert alert-info\" role=\"alert\">\r\n            You haven't spent a penny this month\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n\r\n  return filteredExpenses.map((expense, index) => {\r\n    console.log(`‚û°Ô∏è Rendering ExpenseRow ${index}`, expense);\r\n\r\n    return (\r\n      <ExpenseRow\r\n        key={expense.key}\r\n        expense={expense}\r\n        user={authUser} // pass current user for display\r\n        num={index}\r\n        expenseId={expense.key}\r\n        settings={settings}\r\n        convertedCurrency={convertedCurrency}\r\n      />\r\n    );\r\n  });\r\n};\r\n\r\nexport default Expense;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\USER\\\\Projects\\\\expense-tracker-app\\\\expense-tracker-frontend\\\\src\\\\components\\\\signIn\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { SignUpLink } from \"../signUp/index\";\nimport { auth } from \"../../firebase\";\nimport * as routes from \"../../constants/routes\";\nimport * as analytics from \"./../../analytics/analytics\";\nimport logo from \"./../../assets/images/logo.png\";\nimport homeScreen from \"./../../assets/images/Home1.png\";\nimport monthScreen from \"./../../assets/images/daily.png\";\nimport statisticsScreen from \"./../../assets/images/STATISTICS_NIGHT_MODE.png\";\nimport savingsScreen from \"./../../assets/images/SAVINGS_NIGHT.png\";\nimport homeMobile from \"./../../assets/images/HOME_MOBILE.png\";\nimport monthMobile from \"./../../assets/images/MONTH_MOBILE.png\";\nimport statsMobile from \"./../../assets/images/STATISTICS_MOBILE.png\";\nimport travel from \"./../../assets/images/travel.png\";\nimport firebase from \"firebase\";\n\nvar SignInPage = function SignInPage(_ref) {\n  var history = _ref.history,\n      onLoginSuccess = _ref.onLoginSuccess;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, React.createElement(SignInForm, {\n    history: history,\n    onLoginSuccess: onLoginSuccess,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }));\n};\n\nvar byPropKey = function byPropKey(propertyName, value) {\n  return function () {\n    return _defineProperty({}, propertyName, value);\n  };\n};\n\nvar INITIAL_STATE = {\n  email: \"\",\n  password: \"\",\n  error: null\n};\n\nvar SignInForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignInForm, _Component);\n\n  function SignInForm(props) {\n    var _this;\n\n    _classCallCheck(this, SignInForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignInForm).call(this, props));\n\n    _this.callGoogleSignIn = function () {\n      var history = _this.props.history;\n      var provider = new firebase.auth.GoogleAuthProvider();\n      firebase.auth().signInWithPopup(provider).then(function (result) {\n        // This gives you a Google Access Token. You can use it to access the Google API.\n        var token = result.credential.accessToken; // The signed-in user info.\n\n        var user = result.user;\n        history.push(routes.HOME);\n      }).catch(function (error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message; // The email of the user's account used.\n\n        var email = error.email; // The firebase.auth.AuthCredential type that was used.\n\n        var credential = error.credential;\n        alert(errorMessage, \"Retry !!!\"); // ...\n      });\n    };\n\n    _this.onSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        var _this$state, email, password, history, response, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                _this$state = _this.state, email = _this$state.email, password = _this$state.password;\n                history = _this.props.history;\n\n                _this.setState({\n                  error: null\n                });\n\n                _context.prev = 4;\n                _context.next = 7;\n                return fetch(\"http://localhost:7071/api/loginUser\", // your Azure Function login endpoint\n                {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  },\n                  body: JSON.stringify({\n                    email: email.trim(),\n                    password: password\n                  })\n                });\n\n              case 7:\n                response = _context.sent;\n                _context.next = 10;\n                return response.json();\n\n              case 10:\n                data = _context.sent;\n\n                if (response.ok) {\n                  _context.next = 13;\n                  break;\n                }\n\n                throw new Error(data.error || \"Failed to sign in\");\n\n              case 13:\n                // Save logged‑in user info (adjust key as you like)\n                localStorage.setItem(\"user\", JSON.stringify(data)); // Notify App that login succeeded\n\n                if (_this.props.onLoginSuccess) {\n                  _this.props.onLoginSuccess(data);\n                } // clear state & redirect\n\n\n                _this.setState(function () {\n                  return _objectSpread({}, INITIAL_STATE);\n                });\n\n                history.push(routes.HOME);\n                _context.next = 22;\n                break;\n\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](4);\n\n                _this.setState(byPropKey(\"error\", _context.t0));\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[4, 19]]);\n      }));\n\n      return function (_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.state = _objectSpread({}, INITIAL_STATE);\n    return _this;\n  }\n\n  _createClass(SignInForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      analytics.initGA();\n      analytics.logPageView();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _homeImgStyle,\n          _this2 = this;\n\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          error = _this$state2.error;\n      var imgStyle = {\n        margin: \"25px 35%\"\n      };\n      var isInvalid = password === \"\" || email === \"\";\n      var fullHeight = {\n        minHeight: \"100vh\"\n      };\n      var areaPadding = {\n        padding: \"7%\"\n      };\n      var areaMonthPadding = {\n        padding: \"5% 7%\"\n      };\n      var homeImgStyle = (_homeImgStyle = {\n        verticaAlign: \"middle\",\n        borderRadius: \"10px\",\n        boxShadow: \"100px solid red\"\n      }, _defineProperty(_homeImgStyle, \"boxShadow\", \"20px 20px rgba(0,0,0,0.4)\"), _defineProperty(_homeImgStyle, \"borderStyle\", \"none\"), _defineProperty(_homeImgStyle, \"width\", \"100%\"), _defineProperty(_homeImgStyle, \"height\", \"auto\"), _homeImgStyle);\n      return React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          minHeight: \"88vh\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12 col-md-6\",\n        style: areaPadding,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"landing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: logo,\n        style: imgStyle,\n        width: \"auto\",\n        height: \"100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Expense Tracker which takes note of all your daily expenses\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \" Sign up to create an account - and start tracking your expenses \"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-sm-12 col-md-6 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: email,\n        onChange: function onChange(event) {\n          return _this2.setState(byPropKey(\"email\", event.target.value));\n        },\n        type: \"text\",\n        placeholder: \"Email Address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        value: password,\n        onChange: function onChange(event) {\n          return _this2.setState(byPropKey(\"password\", event.target.value));\n        },\n        type: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        disabled: isInvalid,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Sign In\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \" \", React.createElement(Link, {\n        to: routes.PASSWORD_FORGET,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"Forgot password?\")), error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, error.message)), React.createElement(SignUpLink, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"row landing-home-section\",\n        style: fullHeight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12 col-md-8\",\n        style: areaPadding,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, window.screen.width > 720 ? React.createElement(\"img\", {\n        src: homeScreen,\n        style: homeImgStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }) : React.createElement(\"img\", {\n        src: homeMobile,\n        style: homeImgStyle,\n        width: \"auto\",\n        height: \"auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-12 col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"landing-home-section-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Simplest way to manage personal finances. \", React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }), \"Yes your money matters.\"))), React.createElement(\"div\", {\n        className: \"row landing-month-section\",\n        style: fullHeight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12 col-md-4\",\n        style: areaPadding,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"landing-home-section-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"Peek View Of your daily Spendings\")), React.createElement(\"div\", {\n        className: \"col-sm-12 col-md-8\",\n        style: areaMonthPadding,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, window.screen.width > 720 ? React.createElement(\"img\", {\n        src: monthScreen,\n        style: homeImgStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }) : React.createElement(\"img\", {\n        src: monthMobile,\n        style: homeImgStyle,\n        width: \"auto\",\n        height: \"auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return SignInForm;\n}(Component);\n\nexport default withRouter(SignInPage);\nexport { SignInForm };","map":{"version":3,"sources":["C:\\Users\\USER\\Projects\\expense-tracker-app\\expense-tracker-frontend\\src\\components\\signIn\\index.js"],"names":["React","Component","Link","withRouter","SignUpLink","auth","routes","analytics","logo","homeScreen","monthScreen","statisticsScreen","savingsScreen","homeMobile","monthMobile","statsMobile","travel","firebase","SignInPage","history","onLoginSuccess","byPropKey","propertyName","value","INITIAL_STATE","email","password","error","SignInForm","props","callGoogleSignIn","provider","GoogleAuthProvider","signInWithPopup","then","result","token","credential","accessToken","user","push","HOME","catch","errorCode","code","errorMessage","message","alert","onSubmit","event","preventDefault","state","setState","fetch","method","headers","body","JSON","stringify","trim","response","json","data","ok","Error","localStorage","setItem","initGA","logPageView","imgStyle","margin","isInvalid","fullHeight","minHeight","areaPadding","padding","areaMonthPadding","homeImgStyle","verticaAlign","borderRadius","boxShadow","target","PASSWORD_FORGET","window","screen","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport { SignUpLink } from \"../signUp/index\";\r\nimport { auth } from \"../../firebase\";\r\nimport * as routes from \"../../constants/routes\";\r\nimport * as analytics from \"./../../analytics/analytics\";\r\n\r\nimport logo from \"./../../assets/images/logo.png\";\r\nimport homeScreen from \"./../../assets/images/Home1.png\";\r\nimport monthScreen from \"./../../assets/images/daily.png\";\r\nimport statisticsScreen from \"./../../assets/images/STATISTICS_NIGHT_MODE.png\";\r\nimport savingsScreen from \"./../../assets/images/SAVINGS_NIGHT.png\";\r\nimport homeMobile from \"./../../assets/images/HOME_MOBILE.png\";\r\nimport monthMobile from \"./../../assets/images/MONTH_MOBILE.png\";\r\nimport statsMobile from \"./../../assets/images/STATISTICS_MOBILE.png\";\r\nimport travel from \"./../../assets/images/travel.png\";\r\n\r\nimport firebase from \"firebase\";\r\n\r\nconst SignInPage = ({ history, onLoginSuccess }) => (\r\n    <div>\r\n        <SignInForm history={history} onLoginSuccess={onLoginSuccess} />\r\n    </div>\r\n);\r\n\r\n\r\nconst byPropKey = (propertyName, value) => () => ({\r\n    [propertyName]: value\r\n});\r\n\r\nconst INITIAL_STATE = {\r\n    email: \"\",\r\n    password: \"\",\r\n    error: null\r\n};\r\n\r\nclass SignInForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { ...INITIAL_STATE };\r\n    }\r\n\r\n    componentDidMount() {\r\n        analytics.initGA();\r\n        analytics.logPageView();\r\n    }\r\n\r\n    callGoogleSignIn = () => {\r\n        const { history } = this.props;\r\n\r\n        let provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n        firebase\r\n            .auth()\r\n            .signInWithPopup(provider)\r\n            .then(result => {\r\n                // This gives you a Google Access Token. You can use it to access the Google API.\r\n                let token = result.credential.accessToken;\r\n\r\n                // The signed-in user info.\r\n                let user = result.user;\r\n\r\n                history.push(routes.HOME);\r\n            })\r\n            .catch(error => {\r\n                // Handle Errors here.\r\n                let errorCode = error.code;\r\n                let errorMessage = error.message;\r\n\r\n                // The email of the user's account used.\r\n                let email = error.email;\r\n\r\n                // The firebase.auth.AuthCredential type that was used.\r\n                let credential = error.credential;\r\n\r\n                alert(errorMessage, \"Retry !!!\");\r\n                // ...\r\n            });\r\n    };\r\n\r\n    onSubmit = async event => {\r\n        event.preventDefault();\r\n\r\n        const { email, password } = this.state;\r\n        const { history } = this.props;\r\n\r\n        this.setState({ error: null });\r\n\r\n        try {\r\n            const response = await fetch(\r\n                \"http://localhost:7071/api/loginUser\", // your Azure Function login endpoint\r\n                {\r\n                    method: \"POST\",\r\n                    headers: { \"Content-Type\": \"application/json\" },\r\n                    body: JSON.stringify({ email: email.trim(), password })\r\n                }\r\n            );\r\n\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) {\r\n                // show backend error message\r\n                throw new Error(data.error || \"Failed to sign in\");\r\n            }\r\n\r\n            // Save logged‑in user info (adjust key as you like)\r\n            localStorage.setItem(\"user\", JSON.stringify(data));\r\n\r\n            // Notify App that login succeeded\r\n            if (this.props.onLoginSuccess) {\r\n                this.props.onLoginSuccess(data);\r\n            }\r\n\r\n            // clear state & redirect\r\n            this.setState(() => ({ ...INITIAL_STATE }));\r\n            history.push(routes.HOME);\r\n\r\n        } catch (error) {\r\n            this.setState(byPropKey(\"error\", error));\r\n        }\r\n    };\r\n\r\n\r\n    render() {\r\n        const { email, password, error } = this.state;\r\n\r\n        const imgStyle = {\r\n            margin: \"25px 35%\"\r\n        };\r\n\r\n        const isInvalid = password === \"\" || email === \"\";\r\n\r\n        const fullHeight = {\r\n            minHeight: \"100vh\"\r\n        };\r\n\r\n        const areaPadding = {\r\n            padding: \"7%\"\r\n        };\r\n\r\n        const areaMonthPadding = {\r\n            padding: \"5% 7%\"\r\n        };\r\n\r\n        const homeImgStyle = {\r\n            verticaAlign: \"middle\",\r\n            borderRadius: \"10px\",\r\n            boxShadow: \"100px solid red\",\r\n            boxShadow: \"20px 20px rgba(0,0,0,0.4)\",\r\n            borderStyle: \"none\",\r\n            width: \"100%\",\r\n            height: \"auto\"\r\n        };\r\n\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\" style={{ minHeight: \"88vh\" }}>\r\n                    <div className=\"col-sm-12 col-md-6\" style={areaPadding}>\r\n                        <div className=\"landing\">\r\n                            <img src={logo} style={imgStyle} width=\"auto\" height=\"100\" />\r\n                            <span>Expense Tracker which takes note of all your daily expenses</span>\r\n                            <hr />\r\n                            <p> Sign up to create an account - and start tracking your expenses </p>\r\n                            <hr />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-sm-12 col-md-6 \">\r\n                        <div className=\"login-page\">\r\n                            <form onSubmit={this.onSubmit} className=\"form\">\r\n                                <input\r\n                                    value={email}\r\n                                    onChange={event => this.setState(byPropKey(\"email\", event.target.value))}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Email Address\"\r\n                                />\r\n                                <input\r\n                                    value={password}\r\n                                    onChange={event => this.setState(byPropKey(\"password\", event.target.value))}\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password\"\r\n                                />\r\n                                <button disabled={isInvalid} type=\"submit\">\r\n                                    Sign In\r\n                                </button>\r\n\r\n                                <p>\r\n                                    {\" \"}\r\n                                    <Link to={routes.PASSWORD_FORGET}>Forgot password?</Link>\r\n                                </p>\r\n\r\n                              \r\n\r\n                                {error && <p>{error.message}</p>}\r\n                            </form>\r\n                            <SignUpLink />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row landing-home-section\" style={fullHeight}>\r\n                    <div className=\"col-sm-12 col-md-8\" style={areaPadding}>\r\n                        {window.screen.width > 720 ? (\r\n                            <img src={homeScreen} style={homeImgStyle} />\r\n                        ) : (\r\n                            <img src={homeMobile} style={homeImgStyle} width=\"auto\" height=\"auto\" />\r\n                        )}\r\n                    </div>\r\n                    <div className=\"col-sm-12 col-md-4\">\r\n                        <div className=\"landing-home-section-title\">\r\n                            Simplest way to manage personal finances. <hr />\r\n                            Yes your money matters.\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row landing-month-section\" style={fullHeight}>\r\n                    <div className=\"col-sm-12 col-md-4\" style={areaPadding}>\r\n                        <div className=\"landing-home-section-title\">Peek View Of your daily Spendings</div>\r\n                    </div>\r\n                    <div className=\"col-sm-12 col-md-8\" style={areaMonthPadding}>\r\n                        {window.screen.width > 720 ? (\r\n                            <img src={monthScreen} style={homeImgStyle} />\r\n                        ) : (\r\n                            <img src={monthMobile} style={homeImgStyle} width=\"auto\" height=\"auto\" />\r\n                        )}\r\n                    </div>\r\n                </div>\r\n               \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(SignInPage);\r\n\r\nexport { SignInForm };\r\n"]},"metadata":{},"sourceType":"module"}